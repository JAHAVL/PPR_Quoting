(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[249],{9487:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quotes",function(){return a(4206)}])},7257:function(e,t,a){"use strict";var n=a(5893);a(7294);var r=a(9521),s=a.n(r),o=function(e){var t=e.type,a=e.label,r=e.className,o=a.charAt(0).toUpperCase()+a.slice(1);return(0,n.jsx)("span",{className:"".concat(s().tag," ").concat(s()[t]," ").concat(void 0===r?"":r),children:o})};t.Z=o},1981:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var n=a(6042),r=a(9396),s=a(5893);a(7294);var o=a(7841),c=a.n(o),i=function(e){var t=e.size,a=void 0===t?"medium":t,o=e.color,i=e.className,l=e.children,u=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["size","color","className","children"]),d={small:16,medium:24,large:32}[a];return(0,s.jsx)("svg",(0,r.Z)((0,n.Z)({xmlns:"http://www.w3.org/2000/svg",width:d,height:d,viewBox:"0 0 24 24",fill:"none",stroke:o||"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"".concat(c().icon," ").concat(c()[a]," ").concat(void 0===i?"":i)},u),{children:l}))}},528:function(e,t,a){"use strict";var n=a(6042),r=a(9396),s=a(5893);a(7294);var o=a(1981),c=function(e){return(0,s.jsxs)(o.Z,(0,r.Z)((0,n.Z)({},e),{children:[(0,s.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),(0,s.jsx)("line",{x1:"9",y1:"10",x2:"15",y2:"10"}),(0,s.jsx)("line",{x1:"9",y1:"14",x2:"15",y2:"14"})]}))};t.Z=c},734:function(e,t,a){"use strict";var n=a(5893);a(7294);var r=a(9179),s=a.n(r),o=function(e){var t=e.children;return(0,n.jsx)("div",{className:s().pageContainer,children:t})};t.Z=o},6345:function(e,t,a){"use strict";a.d(t,{Z:function(){return g}});var n=a(5893),r=a(7294),s=a(5798),o=a.n(s),c=a(7140),i=a.n(c),l=function(e){var t=e.placeholder,a=e.onSearch,s=(0,r.useState)(""),o=s[0],c=s[1],l=function(e){e.preventDefault(),a&&a(o)};return(0,n.jsx)("div",{className:i().searchBarContainer,children:(0,n.jsxs)("form",{onSubmit:l,className:i().searchForm,children:[(0,n.jsx)("input",{type:"text",className:i().searchInput,placeholder:void 0===t?"Search...":t,value:o,onChange:function(e){return c(e.target.value)}}),(0,n.jsx)("button",{type:"submit",className:i().searchButton,children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,n.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})})]})})},u=a(1664),d=a.n(u),_=a(3442),p=a.n(_),h=function(e){var t=e.href;return(0,n.jsx)(d(),{href:t,passHref:!0,legacyBehavior:!0,children:(0,n.jsx)("a",{className:p().backButton,children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,n.jsx)("polyline",{points:"12 19 5 12 12 5"})]})})})},g=function(e){var t=e.title,a=e.showSearch,r=e.children,s=e.showBackButton,c=e.backHref;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("header",{className:o().header,children:[void 0!==s&&s&&(0,n.jsx)("div",{className:o().backButton,children:(0,n.jsx)(h,{href:void 0===c?"/admin-dashboard":c})}),(0,n.jsx)("div",{className:o().logoContainer,children:(0,n.jsx)(d(),{href:"/",children:(0,n.jsx)("a",{className:o().logoLink,children:(0,n.jsx)("img",{src:"/images/Logo.png",alt:"PPR Logo",className:o().logo,title:void 0===t?"PPR":t})})})})]}),(0,n.jsxs)("div",{className:o().subHeader,children:[r,(void 0===a||a)&&(0,n.jsx)("div",{className:o().searchSection,children:(0,n.jsx)(l,{placeholder:"Search quotes, clients, projects..."})})]})]})}},2519:function(e,t,a){"use strict";var n=a(9815),r=a(5893),s=a(7294),o=a(5232),c=a.n(o);t.Z=function(e){var t=e.columns,a=e.data,o=e.keyField,i=e.emptyMessage,l=e.onRowClick,u=e.className,d=e.isLoading,_=e.sortable,p=void 0===_||_,h=e.pagination,g=void 0===h||h,f=e.itemsPerPage,m=void 0===f?10:f,b=(0,s.useState)(null),v=b[0],x=b[1],j=(0,s.useState)("asc"),y=j[0],C=j[1],N=(0,s.useState)(1),T=N[0],w=N[1],B=function(e){p&&(v===e?C("asc"===y?"desc":"asc"):(x(e),C("asc")))},k=s.useMemo(function(){return v?(0,n.Z)(a).sort(function(e,t){var a=e[v],n=t[v];return a===n?0:"string"==typeof a&&"string"==typeof n?"asc"===y?a.localeCompare(n):n.localeCompare(a):null==a?"asc"===y?-1:1:null==n?"asc"===y?1:-1:"asc"===y?a<n?-1:1:a<n?1:-1}):a},[a,v,y]),S=Math.ceil(k.length/m),P=g?k.slice((T-1)*m,T*m):k,Q=function(e){w(e)};return(0,r.jsx)("div",{className:"".concat(c().tableContainer," ").concat(void 0===u?"":u),children:void 0!==d&&d?(0,r.jsx)("div",{className:c().loading,children:"Loading..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:c().tableWrapper,children:(0,r.jsxs)("table",{className:c().table,children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:t.map(function(e,t){return(0,r.jsx)("th",{className:"".concat(c().tableHeader," ").concat(e.className||""," ").concat(p?c().sortable:""),onClick:function(){return"string"==typeof e.accessor&&B(e.accessor)},children:(0,r.jsxs)("div",{className:c().headerContent,children:[e.header,p&&"string"==typeof e.accessor&&v===e.accessor&&(0,r.jsx)("span",{className:"asc"===y?c().sortAsc:c().sortDesc,children:"asc"===y?"▲":"▼"})]})},t)})})}),(0,r.jsx)("tbody",{children:P.length>0?P.map(function(e){return(0,r.jsx)("tr",{onClick:function(){return l&&l(e)},className:l?c().clickableRow:"",children:t.map(function(t,a){var n,s;return(0,r.jsx)("td",{className:t.className||"",children:"function"==typeof t.accessor?t.accessor(e):e[t.accessor]},a)})},String(e[o]))}):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:t.length,className:c().emptyMessage,children:void 0===i?"No data available":i})})})]})}),g&&S>1&&(0,r.jsxs)("div",{className:c().pagination,children:[(0,r.jsx)("button",{className:c().pageButton,disabled:1===T,onClick:function(){return Q(T-1)},children:"<"}),Array.from({length:S},function(e,t){return t+1}).map(function(e){return(0,r.jsx)("button",{className:"".concat(c().pageButton," ").concat(T===e?c().activePage:""),onClick:function(){return Q(e)},children:e},e)}),(0,r.jsx)("button",{className:c().pageButton,disabled:T===S,onClick:function(){return Q(T+1)},children:">"})]})]})})}},4206:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var n=a(5893),r=a(7294),s=a(9008),o=a.n(s),c=a(1163),i=a(6828),l=a.n(i),u=a(734),d=a(6345),_=a(2519),p=a(5432),h=a.n(p),g=a(6794),f=a(7257),m=function(e){var t=e.status,a=t.charAt(0).toUpperCase()+t.slice(1);return(0,n.jsx)(f.Z,{type:t.toLowerCase(),label:a,className:h().statusBadge})},b=function(e){var t=e.type,a=t.charAt(0).toUpperCase()+t.slice(1);return(0,n.jsx)(f.Z,{type:t.toLowerCase(),label:a,className:h().typeBadge})},v=function(e){var t=e.quotes,a=e.isLoading,r=(0,c.useRouter)(),s=[{header:"Client",accessor:"clientName"},{header:"Type",accessor:function(e){return(0,n.jsx)(b,{type:e.type})},className:h().centerAlign},{header:"Status",accessor:function(e){return(0,n.jsx)(m,{status:e.status})},className:h().centerAlign},{header:"Total",accessor:function(e){return(0,g.x)(e.total)},className:h().rightAlign}],o=function(e){r.push("/quotes/".concat(e.id))};return(0,n.jsx)(_.Z,{columns:s,data:t,keyField:"id",onRowClick:o,isLoading:void 0!==a&&a,emptyMessage:"No quotes found",className:h().quotesTable})},x=a(528),j=a(2367),y=function(){var e=(0,c.useRouter)(),t=(0,j.vR)(),a=t.quotes,s=t.loading,i=t.error;t.fetchQuotes;var _=(0,r.useState)(""),p=_[0];_[1];var h=(0,r.useState)(!1),g=h[0];h[1];var f=a.filter(function(e){var t,a,n,r,s=p.toLowerCase();return((null===(t=e.clientName)||void 0===t?void 0:t.toLowerCase())||"").includes(s)||((null===(a=e.address)||void 0===a?void 0:a.toLowerCase())||"").includes(s)||((null===(n=e.status)||void 0===n?void 0:n.toLowerCase())||"").includes(s)||((null===(r=e.type)||void 0===r?void 0:r.toLowerCase())||"").includes(s)}),m=function(){e.push("/install-quote")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"PPR - Quotes"}),(0,n.jsx)("meta",{name:"description",content:"Paver Pressure and Repair Quotes"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(d.Z,{title:"PPR",showBackButton:!0,backHref:"/admin-dashboard"}),(0,n.jsxs)("main",{className:l().main,children:[(0,n.jsx)("div",{className:l().pageHeader,children:(0,n.jsxs)("div",{className:l().titleContainer,children:[(0,n.jsx)(x.Z,{className:l().pageIcon}),(0,n.jsx)("h1",{className:l().pageTitle,children:"Quotes"}),(0,n.jsx)("button",{className:l().createButton,onClick:m,"aria-label":"Create new quote",children:"+"})]})}),s?(0,n.jsx)("div",{className:l().loadingContainer,children:(0,n.jsx)("p",{children:"Loading quotes..."})}):i?(0,n.jsxs)("div",{className:l().errorContainer,children:[(0,n.jsx)("p",{children:i}),(0,n.jsx)("button",{onClick:function(){return window.location.reload()},children:"Try Again"})]}):(0,n.jsx)("div",{className:l().tableContainer,children:(0,n.jsx)(v,{quotes:f,isLoading:g})})]})]})]})}},6794:function(e,t,a){"use strict";a.d(t,{p:function(){return r},x:function(){return n}});var n=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)},r=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}},9521:function(e){e.exports={tag:"Tag_tag__5LV1t",install:"Tag_install__jOf2D",clean:"Tag_clean__nzR0m",seal:"Tag_seal__GpnPm",repair:"Tag_repair__Y_yAr",approved:"Tag_approved__qSupX",pending:"Tag_pending__v59b8",completed:"Tag_completed__aYC5U",rejected:"Tag_rejected__grynf",default:"Tag_default__rWEz5"}},3442:function(e){e.exports={backButton:"BackButton_backButton__lrPw1"}},7140:function(e){e.exports={searchBarContainer:"SearchBar_searchBarContainer__JLhh5",searchForm:"SearchBar_searchForm__ssP1v",searchInput:"SearchBar_searchInput__fIzc3",searchButton:"SearchBar_searchButton__m7VDl"}},7841:function(e){e.exports={icon:"Icon_icon__NBmaq",small:"Icon_small__YxClB",medium:"Icon_medium__SCaHr",large:"Icon_large__XZCtQ"}},9179:function(e){e.exports={pageContainer:"PageContainer_pageContainer__ntg2Q"}},5798:function(e){e.exports={header:"PageHeader_header__gojWM",title:"PageHeader_title___y8_d",logoContainer:"PageHeader_logoContainer__D4hn_",logo:"PageHeader_logo__dMaFB",subHeader:"PageHeader_subHeader__LT60k",searchSection:"PageHeader_searchSection__efZqS",backButton:"PageHeader_backButton__iTUwa",backButtonContainer:"PageHeader_backButtonContainer__5cNxx"}},5232:function(e){e.exports={tableContainer:"DataTable_tableContainer__G9n3a",tableWrapper:"DataTable_tableWrapper__G_oJk",table:"DataTable_table__Gt_63",tableHeader:"DataTable_tableHeader__BvfuQ",headerContent:"DataTable_headerContent__UYWqg",sortable:"DataTable_sortable__OW9dJ",sortAsc:"DataTable_sortAsc__ECBFf",sortDesc:"DataTable_sortDesc__N9hQF",clickableRow:"DataTable_clickableRow__CHypJ",emptyMessage:"DataTable_emptyMessage__GLjh4",loading:"DataTable_loading__gcydQ",pagination:"DataTable_pagination__lUPNv",pageButton:"DataTable_pageButton__3lzCp",activePage:"DataTable_activePage__VDLBU",statusPending:"DataTable_statusPending__59nQr",statusApproved:"DataTable_statusApproved__CfJek",statusRejected:"DataTable_statusRejected__UCaJI",statusCompleted:"DataTable_statusCompleted__hTXzh"}},5432:function(e){e.exports={quotesTable:"QuotesTable_quotesTable__xms_K",centerAlign:"QuotesTable_centerAlign__BtF1W",rightAlign:"QuotesTable_rightAlign__6CiNO",statusBadge:"QuotesTable_statusBadge__25OD0",statusPending:"QuotesTable_statusPending__l8_6I",statusApproved:"QuotesTable_statusApproved__YzfWJ",statusRejected:"QuotesTable_statusRejected__vI7yX",statusCompleted:"QuotesTable_statusCompleted__T69Qv",typeBadge:"QuotesTable_typeBadge__anyf3",typeInstall:"QuotesTable_typeInstall__9qt4p",typeClean:"QuotesTable_typeClean__CAEi_",typeSeal:"QuotesTable_typeSeal__a11pH",typeRepair:"QuotesTable_typeRepair__BFwV9"}},6828:function(e){e.exports={main:"Quotes_main__vLA0F",pageHeader:"Quotes_pageHeader__T9O9f",titleContainer:"Quotes_titleContainer__SlYiX",pageIcon:"Quotes_pageIcon__7WVmZ",pageTitle:"Quotes_pageTitle__qYQLB",createButton:"Quotes_createButton__SBAmS",tableContainer:"Quotes_tableContainer__lnsvE",searchContainer:"Quotes_searchContainer___EmsB",searchInput:"Quotes_searchInput__gQdhH",tableSection:"Quotes_tableSection__gU_pd"}},1163:function(e,t,a){e.exports=a(387)},943:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,{Z:function(){return n}})},3375:function(e,t,a){"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}a.d(t,{Z:function(){return n}})},9396:function(e,t,a){"use strict";function n(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a.push.apply(a,n)}return a})(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}),e}a.d(t,{Z:function(){return n}})},9815:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var n=a(943),r=a(3375),s=a(1566);function o(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||(0,r.Z)(e)||(0,s.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1566:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(943);function r(e,t){if(e){if("string"==typeof e)return(0,n.Z)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return(0,n.Z)(e,t)}}}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=9487)}),_N_E=e.O()}]);