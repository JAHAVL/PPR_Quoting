(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92],{1974:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[id]",function(){return a(6064)}])},7257:function(e,t,a){"use strict";var n=a(5893);a(7294);var i=a(9521),r=a.n(i),s=function(e){var t=e.type,a=e.label,i=e.className,s=a.charAt(0).toUpperCase()+a.slice(1);return(0,n.jsx)("span",{className:"".concat(r().tag," ").concat(r()[t]," ").concat(void 0===i?"":i),children:s})};t.Z=s},734:function(e,t,a){"use strict";var n=a(5893);a(7294);var i=a(9179),r=a.n(i),s=function(e){var t=e.children;return(0,n.jsx)("div",{className:r().pageContainer,children:t})};t.Z=s},6345:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var n=a(5893),i=a(7294),r=a(5798),s=a.n(r),c=a(7140),o=a.n(c),l=function(e){var t=e.placeholder,a=e.onSearch,r=(0,i.useState)(""),s=r[0],c=r[1],l=function(e){e.preventDefault(),a&&a(s)};return(0,n.jsx)("div",{className:o().searchBarContainer,children:(0,n.jsxs)("form",{onSubmit:l,className:o().searchForm,children:[(0,n.jsx)("input",{type:"text",className:o().searchInput,placeholder:void 0===t?"Search...":t,value:s,onChange:function(e){return c(e.target.value)}}),(0,n.jsx)("button",{type:"submit",className:o().searchButton,children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,n.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})})]})})},d=a(1664),_=a.n(d),u=a(3442),h=a.n(u),g=function(e){var t=e.href;return(0,n.jsx)(_(),{href:t,passHref:!0,legacyBehavior:!0,children:(0,n.jsx)("a",{className:h().backButton,children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,n.jsx)("polyline",{points:"12 19 5 12 12 5"})]})})})},p=function(e){var t=e.title,a=e.showSearch,i=e.children,r=e.showBackButton,c=e.backHref;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("header",{className:s().header,children:[void 0!==r&&r&&(0,n.jsx)("div",{className:s().backButton,children:(0,n.jsx)(g,{href:void 0===c?"/admin-dashboard":c})}),(0,n.jsx)("div",{className:s().logoContainer,children:(0,n.jsx)(_(),{href:"/",children:(0,n.jsx)("a",{className:s().logoLink,children:(0,n.jsx)("img",{src:"/images/Logo.png",alt:"PPR Logo",className:s().logo,title:void 0===t?"PPR":t})})})})]}),(0,n.jsxs)("div",{className:s().subHeader,children:[i,(void 0===a||a)&&(0,n.jsx)("div",{className:s().searchSection,children:(0,n.jsx)(l,{placeholder:"Search quotes, clients, projects..."})})]})]})}},6064:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var n=a(7568),i=a(7582),r=a(5893),s=a(7294),c=a(9008),o=a.n(c),l=a(1163),d=a(3903),_=a(734),u=a(6345),h=a(7257),g=a(9891),p=a.n(g),j=a(6794),x=function(e){var t=e.className;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,r.jsx)("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),(0,r.jsx)("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})},m=function(){var e,t=(0,l.useRouter)(),a=t.query.id,c=(0,s.useState)(null),g=c[0],m=c[1],f=(0,s.useState)(null),P=f[0],v=f[1],D=(0,s.useState)(!0),N=D[0],C=D[1],B=(0,s.useState)(null),y=B[0],k=B[1];(0,s.useEffect)(function(){a&&b()},[a]);var b=(e=(0,n.Z)(function(){var e,t,n,r;return(0,i.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,6,7,8]),C(!0),[4,d.hY.getById(a)];case 1:if(m(e=t.sent()),!e.quoteId)return[3,5];t.label=2;case 2:return t.trys.push([2,4,,5]),[4,d.Go.getById(e.quoteId.toString())];case 3:return v(t.sent()),[3,5];case 4:return n=t.sent(),console.error("Failed to fetch related quote:",n),[3,5];case 5:return k(null),[3,8];case 6:return r=t.sent(),console.error("Failed to fetch project:",r),k("Failed to load project details. Please try again."),[3,8];case 7:return C(!1),[7];case 8:return[2]}})}),function(){return e.apply(this,arguments)});return N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"PPR - Loading Project"}),(0,r.jsx)("meta",{name:"description",content:"Paver Pressure and Repair Project Details"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(u.Z,{title:"PPR",showBackButton:!0,backHref:"/projects"}),(0,r.jsxs)("div",{className:p().loadingContainer,children:[(0,r.jsx)("div",{className:p().loadingSpinner}),(0,r.jsx)("p",{children:"Loading project details..."})]})]})]}):y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"PPR - Error"}),(0,r.jsx)("meta",{name:"description",content:"Paver Pressure and Repair Project Details"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(u.Z,{title:"PPR",showBackButton:!0,backHref:"/projects"}),(0,r.jsxs)("div",{className:p().errorContainer,children:[(0,r.jsx)("h2",{children:"Error"}),(0,r.jsx)("p",{children:y}),(0,r.jsx)("button",{className:p().retryButton,onClick:b,children:"Retry"})]})]})]}):g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsxs)("title",{children:["PPR - ",g.title]}),(0,r.jsx)("meta",{name:"description",content:"Paver Pressure and Repair - Project: ".concat(g.title)}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(u.Z,{title:"PPR",showBackButton:!0,backHref:"/projects"}),(0,r.jsxs)("main",{className:p().main,children:[(0,r.jsx)("div",{className:p().pageHeader,children:(0,r.jsxs)("div",{className:p().titleContainer,children:[(0,r.jsx)(x,{className:p().pageIcon}),(0,r.jsx)("h1",{className:p().pageTitle,children:g.title})]})}),(0,r.jsxs)("div",{className:p().detailContainer,children:[(0,r.jsxs)("div",{className:p().header,children:[(0,r.jsx)("div",{className:p().headerLeft,children:(0,r.jsxs)("div",{className:p().tags,children:[(0,r.jsx)(h.Z,{type:function(e){switch(e.toLowerCase()){case"pending":return"blue";case"active":return"green";case"completed":return"purple";case"cancelled":return"red";default:return"gray"}}(g.status),label:g.status}),(0,r.jsx)(h.Z,{type:function(e){switch(e.toLowerCase()){case"install":return"green";case"mx":return"blue";default:return"gray"}}(g.type),label:g.type})]})}),(0,r.jsxs)("div",{className:p().headerRight,children:[(0,r.jsx)("div",{className:p().totalAmount,children:(0,j.x)(g.budget)}),(0,r.jsx)("button",{className:p().editButton,onClick:function(){return console.log("Edit project")},children:"Edit Project"})]})]}),(0,r.jsxs)("div",{className:p().infoGrid,children:[(0,r.jsxs)("div",{className:p().infoCard,children:[(0,r.jsx)("h3",{children:"Client"}),(0,r.jsx)("p",{children:g.clientName}),(0,r.jsx)("button",{className:p().viewButton,onClick:function(){return t.push("/clients/".concat(g.clientId))},children:"View Client"})]}),g.startDate&&(0,r.jsxs)("div",{className:p().infoCard,children:[(0,r.jsx)("h3",{children:"Start Date"}),(0,r.jsx)("p",{children:(0,j.p)(g.startDate)})]}),g.endDate&&(0,r.jsxs)("div",{className:p().infoCard,children:[(0,r.jsx)("h3",{children:"End Date"}),(0,r.jsx)("p",{children:(0,j.p)(g.endDate)})]}),P&&(0,r.jsxs)("div",{className:p().infoCard,children:[(0,r.jsx)("h3",{children:"Related Quote"}),(0,r.jsx)("p",{children:P.title}),(0,r.jsx)("button",{className:p().viewButton,onClick:function(){return t.push("/quotes/".concat(P.id))},children:"View Quote"})]})]}),g.description&&(0,r.jsxs)("div",{className:p().section,children:[(0,r.jsx)("h2",{children:"Description"}),(0,r.jsx)("div",{className:p().descriptionBox,children:g.description})]}),(0,r.jsxs)("div",{className:p().section,children:[(0,r.jsx)("h2",{children:"Project Timeline"}),(0,r.jsx)("p",{className:p().emptyState,children:"Project timeline functionality will be implemented in a future update."})]}),(0,r.jsxs)("div",{className:p().section,children:[(0,r.jsx)("h2",{children:"Assigned Employees"}),(0,r.jsx)("p",{className:p().emptyState,children:"Employee assignment functionality will be implemented in a future update."})]}),(0,r.jsx)("div",{className:p().footer,children:(0,r.jsxs)("div",{className:p().metaInfo,children:[(0,r.jsxs)("p",{children:["Created: ",(0,j.p)(g.created_at)]}),(0,r.jsxs)("p",{children:["Last Updated: ",(0,j.p)(g.updated_at)]})]})})]})]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"PPR - Project Not Found"}),(0,r.jsx)("meta",{name:"description",content:"Paver Pressure and Repair Project Details"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(u.Z,{title:"PPR",showBackButton:!0,backHref:"/projects"}),(0,r.jsxs)("div",{className:p().notFoundContainer,children:[(0,r.jsx)("h2",{children:"Project Not Found"}),(0,r.jsx)("p",{children:"The requested project could not be found."}),(0,r.jsx)("button",{className:p().backButton,onClick:function(){return t.push("/projects")},children:"Back to Projects"})]})]})]})}},6794:function(e,t,a){"use strict";a.d(t,{p:function(){return i},x:function(){return n}});var n=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)},i=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}},9521:function(e){e.exports={tag:"Tag_tag__5LV1t",install:"Tag_install__jOf2D",clean:"Tag_clean__nzR0m",seal:"Tag_seal__GpnPm",repair:"Tag_repair__Y_yAr",approved:"Tag_approved__qSupX",pending:"Tag_pending__v59b8",completed:"Tag_completed__aYC5U",rejected:"Tag_rejected__grynf",default:"Tag_default__rWEz5"}},3442:function(e){e.exports={backButton:"BackButton_backButton__lrPw1"}},7140:function(e){e.exports={searchBarContainer:"SearchBar_searchBarContainer__JLhh5",searchForm:"SearchBar_searchForm__ssP1v",searchInput:"SearchBar_searchInput__fIzc3",searchButton:"SearchBar_searchButton__m7VDl"}},9179:function(e){e.exports={pageContainer:"PageContainer_pageContainer__ntg2Q"}},5798:function(e){e.exports={header:"PageHeader_header__gojWM",title:"PageHeader_title___y8_d",logoContainer:"PageHeader_logoContainer__D4hn_",logo:"PageHeader_logo__dMaFB",subHeader:"PageHeader_subHeader__LT60k",searchSection:"PageHeader_searchSection__efZqS",backButton:"PageHeader_backButton__iTUwa",backButtonContainer:"PageHeader_backButtonContainer__5cNxx"}},9891:function(e){e.exports={main:"DetailPage_main__IA27p",pageHeader:"DetailPage_pageHeader__RKB3a",detailContainer:"DetailPage_detailContainer__NZxZz",tableContainer:"DetailPage_tableContainer__TT_9m",section:"DetailPage_section__9U5UC",titleContainer:"DetailPage_titleContainer__FgUkl",titleActions:"DetailPage_titleActions__3pXwy",actionButton:"DetailPage_actionButton__UanH9",pageIcon:"DetailPage_pageIcon__htFsx",pageTitle:"DetailPage_pageTitle__kFQmM",header:"DetailPage_header__fH9Oj",detailsHeader:"DetailPage_detailsHeader__7iX2e",headerLeft:"DetailPage_headerLeft__51xRV",clientDetails:"DetailPage_clientDetails__3tA9i",lifetimeValue:"DetailPage_lifetimeValue__LJQ2S",valueAmount:"DetailPage_valueAmount__p_ryn",headerRight:"DetailPage_headerRight__F8Ss3",title:"DetailPage_title__8R2pE",tags:"DetailPage_tags__nk0pG",totalAmount:"DetailPage_totalAmount__ogLrk",editButton:"DetailPage_editButton__d_DtL",infoGrid:"DetailPage_infoGrid__pcygk",infoCard:"DetailPage_infoCard__PE23i",viewButton:"DetailPage_viewButton__7aiWD",sectionContainer:"DetailPage_sectionContainer__LvOnw",descriptionBox:"DetailPage_descriptionBox__T_fj6",lineItemsTable:"DetailPage_lineItemsTable__uGLTc",totalLabel:"DetailPage_totalLabel__I9Ekc",totalValue:"DetailPage_totalValue__8FUE5",footer:"DetailPage_footer__BuDoH",backButton:"DetailPage_backButton__LBUZr",metaInfo:"DetailPage_metaInfo___qyCN",loadingContainer:"DetailPage_loadingContainer__vhCSm",loadingSpinner:"DetailPage_loadingSpinner___c6TB",spin:"DetailPage_spin__qinUm",errorContainer:"DetailPage_errorContainer__MKWkh",notFoundContainer:"DetailPage_notFoundContainer__cMgbl",retryButton:"DetailPage_retryButton__WRQ3M",emptyState:"DetailPage_emptyState__UgkNc",activityContainer:"DetailPage_activityContainer__5hHzD",chatMessages:"DetailPage_chatMessages__b5V_J",activityItem:"DetailPage_activityItem__o1JbF",fadeIn:"DetailPage_fadeIn__7sFOq",systemMessage:"DetailPage_systemMessage__HECvN",userMessage:"DetailPage_userMessage__x6wiE",activityIcon:"DetailPage_activityIcon__90Hj1",activityContent:"DetailPage_activityContent__FJ3YH",activityTitle:"DetailPage_activityTitle__McBJu",activityDate:"DetailPage_activityDate__VINa6",chatInputContainer:"DetailPage_chatInputContainer__q9ux_",chatInput:"DetailPage_chatInput__jMYKS",sendButton:"DetailPage_sendButton__qZ3ZN"}},1163:function(e,t,a){e.exports=a(387)}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=1974)}),_N_E=e.O()}]);