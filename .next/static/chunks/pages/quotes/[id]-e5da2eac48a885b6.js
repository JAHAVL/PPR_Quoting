(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[785],{4850:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quotes/[id]",function(){return n(960)}])},7257:function(e,t,n){"use strict";var a=n(5893);n(7294);var i=n(9521),r=n.n(i),s=function(e){var t=e.type,n=e.label,i=e.className,s=n.charAt(0).toUpperCase()+n.slice(1);return(0,a.jsx)("span",{className:"".concat(r().tag," ").concat(r()[t]," ").concat(void 0===i?"":i),children:s})};t.Z=s},1981:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(6042),i=n(9396),r=n(5893);n(7294);var s=n(7841),c=n.n(s),o=function(e){var t=e.size,n=void 0===t?"medium":t,s=e.color,o=e.className,l=e.children,d=function(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["size","color","className","children"]),u={small:16,medium:24,large:32}[n];return(0,r.jsx)("svg",(0,i.Z)((0,a.Z)({xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:s||"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"".concat(c().icon," ").concat(c()[n]," ").concat(void 0===o?"":o)},d),{children:l}))}},528:function(e,t,n){"use strict";var a=n(6042),i=n(9396),r=n(5893);n(7294);var s=n(1981),c=function(e){return(0,r.jsxs)(s.Z,(0,i.Z)((0,a.Z)({},e),{children:[(0,r.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),(0,r.jsx)("line",{x1:"9",y1:"10",x2:"15",y2:"10"}),(0,r.jsx)("line",{x1:"9",y1:"14",x2:"15",y2:"14"})]}))};t.Z=c},734:function(e,t,n){"use strict";var a=n(5893);n(7294);var i=n(9179),r=n.n(i),s=function(e){var t=e.children;return(0,a.jsx)("div",{className:r().pageContainer,children:t})};t.Z=s},6345:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var a=n(5893),i=n(7294),r=n(5798),s=n.n(r),c=n(7140),o=n.n(c),l=function(e){var t=e.placeholder,n=e.onSearch,r=(0,i.useState)(""),s=r[0],c=r[1],l=function(e){e.preventDefault(),n&&n(s)};return(0,a.jsx)("div",{className:o().searchBarContainer,children:(0,a.jsxs)("form",{onSubmit:l,className:o().searchForm,children:[(0,a.jsx)("input",{type:"text",className:o().searchInput,placeholder:void 0===t?"Search...":t,value:s,onChange:function(e){return c(e.target.value)}}),(0,a.jsx)("button",{type:"submit",className:o().searchButton,children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,a.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})})]})})},d=n(1664),u=n.n(d),_=n(3442),h=n.n(_),x=function(e){var t=e.href;return(0,a.jsx)(u(),{href:t,passHref:!0,legacyBehavior:!0,children:(0,a.jsx)("a",{className:h().backButton,children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,a.jsx)("polyline",{points:"12 19 5 12 12 5"})]})})})},g=function(e){var t=e.title,n=e.showSearch,i=e.children,r=e.showBackButton,c=e.backHref;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:s().header,children:[void 0!==r&&r&&(0,a.jsx)("div",{className:s().backButton,children:(0,a.jsx)(x,{href:void 0===c?"/admin-dashboard":c})}),(0,a.jsx)("div",{className:s().logoContainer,children:(0,a.jsx)(u(),{href:"/",children:(0,a.jsx)("a",{className:s().logoLink,children:(0,a.jsx)("img",{src:"/images/Logo.png",alt:"PPR Logo",className:s().logo,title:void 0===t?"PPR":t})})})})]}),(0,a.jsxs)("div",{className:s().subHeader,children:[i,(void 0===n||n)&&(0,a.jsx)("div",{className:s().searchSection,children:(0,a.jsx)(l,{placeholder:"Search quotes, clients, projects..."})})]})]})}},960:function(e,t,n){"use strict";n.r(t);var a=n(7568),i=n(7582),r=n(5893),s=n(7294),c=n(9008),o=n.n(c),l=n(1163),d=n(3903),u=n(734),_=n(6345),h=n(7257),x=n(9891),g=n.n(x),j=n(6794),p=n(528),m=function(){var e,t=(0,l.useRouter)(),n=t.query.id,c=(0,s.useState)(null),x=c[0],m=c[1],f=(0,s.useState)(!0),v=f[0],P=f[1],y=(0,s.useState)(null),D=y[0],b=y[1];(0,s.useEffect)(function(){n&&N()},[n]);var N=(e=(0,a.Z)(function(){var e,t;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),P(!0),[4,d.Go.getById(n)];case 1:return m(e.sent()),b(null),[3,4];case 2:return t=e.sent(),console.error("Failed to fetch quote:",t),b("Failed to load quote details. Please try again."),[3,4];case 3:return P(!1),[7];case 4:return[2]}})}),function(){return e.apply(this,arguments)});return v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"PPR - Loading Quote"}),(0,r.jsx)("meta",{name:"description",content:"Paver Pressure and Repair Quote Details"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(_.Z,{title:"PPR",showBackButton:!0,backHref:"/quotes"}),(0,r.jsxs)("div",{className:g().loadingContainer,children:[(0,r.jsx)("div",{className:g().loadingSpinner}),(0,r.jsx)("p",{children:"Loading quote details..."})]})]})]}):D?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"PPR - Error"}),(0,r.jsx)("meta",{name:"description",content:"Paver Pressure and Repair Quote Details"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(_.Z,{title:"PPR",showBackButton:!0,backHref:"/quotes"}),(0,r.jsxs)("div",{className:g().errorContainer,children:[(0,r.jsx)("h2",{children:"Error"}),(0,r.jsx)("p",{children:D}),(0,r.jsx)("button",{className:g().retryButton,onClick:N,children:"Retry"})]})]})]}):x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsxs)("title",{children:["PPR - ",x.title]}),(0,r.jsx)("meta",{name:"description",content:"Paver Pressure and Repair - Quote: ".concat(x.title)}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(_.Z,{title:"PPR",showBackButton:!0,backHref:"/quotes"}),(0,r.jsxs)("main",{className:g().main,children:[(0,r.jsx)("div",{className:g().pageHeader,children:(0,r.jsxs)("div",{className:g().titleContainer,children:[(0,r.jsx)(p.Z,{className:g().pageIcon}),(0,r.jsx)("h1",{className:g().pageTitle,children:x.title})]})}),(0,r.jsxs)("div",{className:g().detailContainer,children:[(0,r.jsxs)("div",{className:g().header,children:[(0,r.jsx)("div",{className:g().headerLeft,children:(0,r.jsxs)("div",{className:g().tags,children:[(0,r.jsx)(h.Z,{type:function(e){switch(e.toLowerCase()){case"draft":return"blue";case"sent":return"purple";case"accepted":return"green";case"declined":return"red";default:return"gray"}}(x.status),label:x.status}),(0,r.jsx)(h.Z,{type:function(e){switch(e.toLowerCase()){case"install":return"green";case"mx":return"blue";default:return"gray"}}(x.type),label:x.type})]})}),(0,r.jsxs)("div",{className:g().headerRight,children:[(0,r.jsx)("div",{className:g().totalAmount,children:(0,j.x)(x.total)}),(0,r.jsxs)("div",{className:g().buttonGroup,children:[(0,r.jsx)("button",{className:"".concat(g().viewClientButton),onClick:function(){return t.push("/quotes/view/".concat(x.id))},children:"View Client Quote"}),(0,r.jsx)("button",{className:g().editButton,onClick:function(){return console.log("Edit quote")},children:"Edit Quote"})]})]})]}),(0,r.jsxs)("div",{className:g().infoGrid,children:[(0,r.jsxs)("div",{className:g().infoCard,children:[(0,r.jsx)("h3",{children:"Client"}),(0,r.jsx)("p",{children:x.clientName}),(0,r.jsx)("button",{className:g().viewButton,onClick:function(){return t.push("/clients/".concat(x.clientId))},children:"View Client"})]}),x.projectId&&(0,r.jsxs)("div",{className:g().infoCard,children:[(0,r.jsx)("h3",{children:"Project"}),(0,r.jsxs)("p",{children:["Project #",x.projectId]}),(0,r.jsx)("button",{className:g().viewButton,onClick:function(){return t.push("/projects/".concat(x.projectId))},children:"View Project"})]}),(0,r.jsxs)("div",{className:g().infoCard,children:[(0,r.jsx)("h3",{children:"Date"}),(0,r.jsx)("p",{children:(0,j.p)(x.date)}),x.expiryDate&&(0,r.jsxs)("p",{children:["Expires: ",(0,j.p)(x.expiryDate)]})]})]}),x.description&&(0,r.jsxs)("div",{className:g().section,children:[(0,r.jsx)("h2",{children:"Description"}),(0,r.jsx)("div",{className:g().descriptionBox,children:x.description})]}),(0,r.jsxs)("div",{className:g().section,children:[(0,r.jsx)("h2",{children:"Line Items"}),x.lineItems&&x.lineItems.length>0?(0,r.jsx)("div",{className:g().tableContainer,children:(0,r.jsxs)("table",{className:g().lineItemsTable,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Description"}),(0,r.jsx)("th",{children:"Quantity"}),(0,r.jsx)("th",{children:"Unit Price"}),(0,r.jsx)("th",{children:"Total"})]})}),(0,r.jsx)("tbody",{children:x.lineItems.map(function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.description}),(0,r.jsx)("td",{children:e.quantity}),(0,r.jsx)("td",{children:(0,j.x)(e.unitPrice)}),(0,r.jsx)("td",{children:(0,j.x)(e.total)})]},e.id)})}),(0,r.jsx)("tfoot",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{colSpan:3,className:g().totalLabel,children:"Total"}),(0,r.jsx)("td",{className:g().totalValue,children:(0,j.x)(x.total)})]})})]})}):(0,r.jsx)("p",{className:g().emptyState,children:"No line items found for this quote."})]}),(0,r.jsx)("div",{className:g().footer,children:(0,r.jsxs)("div",{className:g().metaInfo,children:[(0,r.jsxs)("p",{children:["Created: ",(0,j.p)(x.created_at)]}),(0,r.jsxs)("p",{children:["Last Updated: ",(0,j.p)(x.updated_at)]})]})})]})]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"PPR - Quote Not Found"}),(0,r.jsx)("meta",{name:"description",content:"Paver Pressure and Repair Quote Details"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(_.Z,{title:"PPR",showBackButton:!0,backHref:"/quotes"}),(0,r.jsxs)("div",{className:g().notFoundContainer,children:[(0,r.jsx)("h2",{children:"Quote Not Found"}),(0,r.jsx)("p",{children:"The requested quote could not be found."}),(0,r.jsx)("button",{className:g().backButton,onClick:function(){return t.push("/quotes")},children:"Back to Quotes"})]})]})]})};t.default=m},6794:function(e,t,n){"use strict";n.d(t,{p:function(){return i},x:function(){return a}});var a=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)},i=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}},9521:function(e){e.exports={tag:"Tag_tag__5LV1t",install:"Tag_install__jOf2D",clean:"Tag_clean__nzR0m",seal:"Tag_seal__GpnPm",repair:"Tag_repair__Y_yAr",approved:"Tag_approved__qSupX",pending:"Tag_pending__v59b8",completed:"Tag_completed__aYC5U",rejected:"Tag_rejected__grynf",default:"Tag_default__rWEz5"}},3442:function(e){e.exports={backButton:"BackButton_backButton__lrPw1"}},7140:function(e){e.exports={searchBarContainer:"SearchBar_searchBarContainer__JLhh5",searchForm:"SearchBar_searchForm__ssP1v",searchInput:"SearchBar_searchInput__fIzc3",searchButton:"SearchBar_searchButton__m7VDl"}},7841:function(e){e.exports={icon:"Icon_icon__NBmaq",small:"Icon_small__YxClB",medium:"Icon_medium__SCaHr",large:"Icon_large__XZCtQ"}},9179:function(e){e.exports={pageContainer:"PageContainer_pageContainer__ntg2Q"}},5798:function(e){e.exports={header:"PageHeader_header__gojWM",title:"PageHeader_title___y8_d",logoContainer:"PageHeader_logoContainer__D4hn_",logo:"PageHeader_logo__dMaFB",subHeader:"PageHeader_subHeader__LT60k",searchSection:"PageHeader_searchSection__efZqS",backButton:"PageHeader_backButton__iTUwa",backButtonContainer:"PageHeader_backButtonContainer__5cNxx"}},9891:function(e){e.exports={main:"DetailPage_main__IA27p",pageHeader:"DetailPage_pageHeader__RKB3a",detailContainer:"DetailPage_detailContainer__NZxZz",tableContainer:"DetailPage_tableContainer__TT_9m",section:"DetailPage_section__9U5UC",titleContainer:"DetailPage_titleContainer__FgUkl",titleActions:"DetailPage_titleActions__3pXwy",actionButton:"DetailPage_actionButton__UanH9",pageIcon:"DetailPage_pageIcon__htFsx",pageTitle:"DetailPage_pageTitle__kFQmM",header:"DetailPage_header__fH9Oj",detailsHeader:"DetailPage_detailsHeader__7iX2e",headerLeft:"DetailPage_headerLeft__51xRV",clientDetails:"DetailPage_clientDetails__3tA9i",lifetimeValue:"DetailPage_lifetimeValue__LJQ2S",valueAmount:"DetailPage_valueAmount__p_ryn",headerRight:"DetailPage_headerRight__F8Ss3",title:"DetailPage_title__8R2pE",tags:"DetailPage_tags__nk0pG",totalAmount:"DetailPage_totalAmount__ogLrk",editButton:"DetailPage_editButton__d_DtL",infoGrid:"DetailPage_infoGrid__pcygk",infoCard:"DetailPage_infoCard__PE23i",viewButton:"DetailPage_viewButton__7aiWD",sectionContainer:"DetailPage_sectionContainer__LvOnw",descriptionBox:"DetailPage_descriptionBox__T_fj6",lineItemsTable:"DetailPage_lineItemsTable__uGLTc",totalLabel:"DetailPage_totalLabel__I9Ekc",totalValue:"DetailPage_totalValue__8FUE5",footer:"DetailPage_footer__BuDoH",backButton:"DetailPage_backButton__LBUZr",metaInfo:"DetailPage_metaInfo___qyCN",loadingContainer:"DetailPage_loadingContainer__vhCSm",loadingSpinner:"DetailPage_loadingSpinner___c6TB",spin:"DetailPage_spin__qinUm",errorContainer:"DetailPage_errorContainer__MKWkh",notFoundContainer:"DetailPage_notFoundContainer__cMgbl",retryButton:"DetailPage_retryButton__WRQ3M",emptyState:"DetailPage_emptyState__UgkNc",activityContainer:"DetailPage_activityContainer__5hHzD",chatMessages:"DetailPage_chatMessages__b5V_J",activityItem:"DetailPage_activityItem__o1JbF",fadeIn:"DetailPage_fadeIn__7sFOq",systemMessage:"DetailPage_systemMessage__HECvN",userMessage:"DetailPage_userMessage__x6wiE",activityIcon:"DetailPage_activityIcon__90Hj1",activityContent:"DetailPage_activityContent__FJ3YH",activityTitle:"DetailPage_activityTitle__McBJu",activityDate:"DetailPage_activityDate__VINa6",chatInputContainer:"DetailPage_chatInputContainer__q9ux_",chatInput:"DetailPage_chatInput__jMYKS",sendButton:"DetailPage_sendButton__qZ3ZN"}},1163:function(e,t,n){e.exports=n(387)},9396:function(e,t,n){"use strict";function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}n.d(t,{Z:function(){return a}})}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=4850)}),_N_E=e.O()}]);